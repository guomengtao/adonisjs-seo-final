// 这里只包含修复后的generateSearchPageHtml方法，其他部分保持不变
// 完整的文件内容需要与原始文件合并
  /**
   * 生成搜索页面HTML
   */
  private generateSearchPageHtml(): string {
    const html = '<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">\n    <meta name="apple-mobile-web-app-capable" content="yes">\n    <meta name="apple-mobile-web-app-status-bar-style" content="black">\n    <title>Search Missing Persons</title>\n    <link href="./dist/localtailwind.css" rel="stylesheet">\n    <style>\n        body { font-family: -apple-system, system-ui, sans-serif; -webkit-font-smoothing: antialiased; }\n        .safe-bottom { padding-bottom: env(safe-area-inset-bottom); }\n        strong { font-weight: bold; color: red; }\n        /* 隐藏电脑端滚动条，保持简洁 */\n        @media (min-width: 1024px) { \n            ::-webkit-scrollbar { width: 6px; } \n            ::-webkit-scrollbar-thumb { background: #334155; border-radius: 10px; } \n        }\n        .content-container { max-width: 800px; margin: 0 auto; }\n        .search-input { border-radius: 20px; padding: 8px 16px; border: 1px solid #ddd; font-size: 16px; width: 100%; }\n        .search-results { margin-top: 20px; max-height: 60vh; overflow-y: auto; }\n        .result-item { padding: 12px; border-bottom: 1px solid #eee; cursor: pointer; }\n        .result-item:hover { background-color: #f5f5f5; }\n        .result-name { font-weight: bold; font-size: 16px; }\n        .result-id { font-size: 14px; color: #666; margin-top: 4px; }\n        .loading { text-align: center; padding: 20px; color: #666; }\n        .no-results { text-align: center; padding: 20px; color: #666; }\n        /* 微信样式优化 */\n        body { padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left); }\n        .search-container { position: sticky; top: 0; background-color: white; padding: 10px 0; z-index: 100; }\n    </style>\n</head>\n<body class="bg-gray-50 font-sans text-gray-900">\n    <!-- 头部 -->\n    <header class="bg-white shadow-md">\n        <div class="content-container px-4 py-4 flex justify-between items-center">\n            <div class="flex items-center space-x-2">\n                <h1 class="text-2xl font-bold text-blue-600">Missing Persons Database</h1>\n            </div>\n            <nav>\n                <ul class="flex space-x-4">\n                    <li><a href="./index.html" class="text-gray-600 hover:text-blue-600">Home</a></li>\n                    <li><a href="./search.html" class="text-blue-600 font-bold">Search</a></li>\n                </ul>\n            </nav>\n        </div>\n    </header>\n    \n    <!-- 主要内容 -->\n    <main class="py-8">\n        <div class="content-container px-4">\n            <h1 class="text-3xl font-bold mb-8">Search Missing Persons</h1>\n            \n            <!-- 搜索区域 -->\n            <div class="search-container">\n                <input type="text" id="searchInput" placeholder="Search by name or case ID..." class="search-input">\n            </div>\n            \n            <!-- 搜索结果 -->\n            <div id="searchResults" class="search-results">\n                <div class="loading">Loading search data...</div>\n            </div>\n        </div>\n    </main>\n    \n    <!-- 页脚 -->\n    <footer class="bg-gray-800 text-white py-8 safe-bottom">\n        <div class="content-container px-4">\n            <p class="text-center text-sm">Missing Persons Database © ' + new Date().getFullYear() + '</p>\n        </div>\n    </footer>\n    \n    <script>\n        // 搜索数据数组\n        var searchData = [];\n        \n        // 加载搜索数据\n        function loadSearchData() {\n            fetch("./dist/search_local.txt")\n                .then(function(response) { return response.text(); })\n                .then(function(text) {\n                    // 解析搜索数据\n                    searchData = text.split("\n")\n                        .filter(function(line) { return line.trim(); })\n                        .map(function(line) {\n                            var parts = line.split("|");\n                            return { \n                                name: parts[0], \n                                caseId: parts[1], \n                                path: parts[2] \n                            };\n                        });\n                    \n                    document.getElementById("searchResults").innerHTML = \'<div class="no-results">Start typing to search...</div>\';\n                })\n                .catch(function(error) {\n                    console.error("Error loading search data:", error);\n                    document.getElementById("searchResults").innerHTML = \'<div class="no-results">Error loading search data. Please try again later.</div>\';\n                });\n        }\n        \n        // 执行搜索\n        function performSearch(query) {\n            if (!query.trim()) {\n                document.getElementById("searchResults").innerHTML = \'<div class="no-results">Start typing to search...</div>\';\n                return;\n            }\n            \n            var lowercaseQuery = query.toLowerCase();\n            var results = searchData.filter(function(item) {\n                return item.name.toLowerCase().indexOf(lowercaseQuery) !== -1 || \n                       item.caseId.toLowerCase().indexOf(lowercaseQuery) !== -1;\n            });\n            \n            displayResults(results);\n        }\n        \n        // 显示搜索结果\n        function displayResults(results) {\n            var resultsContainer = document.getElementById("searchResults");\n            \n            if (results.length === 0) {\n                resultsContainer.innerHTML = \'<div class="no-results">No matching results found.</div>\';\n                return;\n            }\n            \n            var resultsHTML = \'\';\n            for (var i = 0; i < results.length; i++) {\n                var item = results[i];\n                resultsHTML += \'<div class="result-item" onclick="window.location.href=\\\'./\\\' + item.path + \\'/index.html\\\'">\';\n                resultsHTML += \'    <div class="result-name">\' + escapeHtml(item.name) + \'</div>\';\n                resultsHTML += \'    <div class="result-id">Case ID: \' + escapeHtml(item.caseId) + \'</div>\';\n                resultsHTML += \'</div>\';\n            }\n            \n            resultsContainer.innerHTML = resultsHTML;\n        }\n        \n        // HTML转义函数\n        function escapeHtml(text) {\n            var div = document.createElement("div");\n            div.textContent = text;\n            return div.innerHTML;\n        }\n        \n        // 页面加载完成后初始化\n        window.onload = function() {\n            loadSearchData();\n            \n            // 搜索输入事件\n            var searchInput = document.getElementById("searchInput");\n            searchInput.oninput = function() {\n                performSearch(searchInput.value);\n            };\n            \n            // 自动聚焦搜索框\n            searchInput.focus();\n        };\n    </script>\n</body>\n</html>';
    return html;
  }